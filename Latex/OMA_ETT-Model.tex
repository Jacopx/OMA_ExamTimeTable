% Front Page
\title{Exam Time Table\\ Model}
\author{\textbf{Group 3} [MA-ZZ] \bigskip\\
        Jacopo Maggio\\Stefano Munna\\Jacopo Nasi\\Andrea Santu\\Marco Torlaschi}
\date{\bigskip\bigskip\today}

\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[italian]{babel}
\usepackage{geometry}
\usepackage{indentfirst}
\usepackage{mathtools}
\usepackage[usenames, dvipsnames]{color}
\usepackage{float}
\usepackage{amssymb}
\usepackage{ifsym}
% Measurement
\geometry{ a4paper, total={170mm,257mm},left=35mm, right=35mm, top=35mm, bottom=35mm }

\begin{document}

\begin{figure}
  \centering
  \includegraphics[width=10cm]{images/polito.pdf}
\end{figure}

\maketitle % Print credits
\newpage

% Model pages
\section{Mathematical Model}
This document contains the mathematical model designed for the assignment of Optimization Methods and Algorithms (2017/2018) for the GROUP 3 of the second part of the course [MA-ZZ].

\subsection{Variables}
We have defined two main boolean variables. The first is related to the exam in time slots:
\begin{equation}
  \begin{gathered}
    x_{e,t} = \begin{cases} 1 \rightarrow $ \textit{If the exam \textbf{e} is assigned to timeslot \textbf{t}}$ \\ 0 \rightarrow Otherwise \end{cases}
  \end{gathered}
\end{equation}
The second one is used for student and exam enrollment:
\begin{equation}
  \begin{gathered}
    y_{s,e} = \begin{cases} 1 \rightarrow $ \textit{If the student \textbf{s} is enrolled in exam \textbf{e}}$ \\ 0 \rightarrow Otherwise \end{cases}
  \end{gathered}
\end{equation}
We have also defined the number of students enrolled in both conflicting exams e and e' with the variable:
\begin{equation}
  \begin{gathered}
    n_{e,e'} = \sum_{s = 1}^{S} y_{s,e} \cdot y_{s,e'}\\
    \forall e, e' \in \{1,...,E\} \wedge (e \neq e')\\
    s\in\{1,...,S\}\\
  \end{gathered}
\end{equation}
There are also other standard variables defined by the assignement:
\begin{itemize}
  \item S: Number of student.
  \item $t_{max}$: Number of time slots.
  \item e: Number of exam.
\end{itemize}

\subsection{Objective Function}
The pourpose of the model is to MINIMIZE the following expression:
\begin{equation}
  \begin{gathered}
    \sum_{e=1}^{E-1}\sum_{e'=e+1}^{E}\sum_{t=1}^{t_{max}-5}\sum_{t'=t}^{t+5} (\frac{2^{5-i}}{|S|} \cdot n_{e,e'} \cdot x_{e,t} \cdot x_{e',t'})\\
    i = t'-t
    \label{eq:fir}
  \end{gathered}
\end{equation}
the problem of this equation is that is not a linear function (due to the product of two decision variables). We need linearize it:
\begin{equation}
  \begin{gathered}
    K_{e,t,e',t'} = x_{e,t} \cdot x_{e',t'}
    \label{eq:sec}
  \end{gathered}
\end{equation}
this is not enough, we also need to define other constraints for forcing the linearization. They can be found in the block of equation \ref{eq:linearize}.

\subsection{Constraints}
There are two main constraints to define to generating feasible solution, the first is the one related to the possibility to schedule only once an exam during the period:
\begin{equation}
  \begin{gathered}
     \sum_{t=1}^{t_{max}} x_{e,t} = 1\\
     \forall e, e' \in \{1,...,E\}
  \end{gathered}
\end{equation}
The second one is to avoid that two conflict exams can be helded in the same time slots:
\begin{equation}
  \begin{gathered}
     n_{e,e'} \leq |S| \cdot w_{e,e'}\\
     K_{e,t,e',t'} \leq 1 - w_{e,e'}\\
     w_{e,e'} \in \{0,1\}
  \end{gathered}
\end{equation}
The following constraints are defined due to \textbf{linearize the objective function}:
\begin{equation}
  \begin{gathered}
     K_{e,t,e',t'} \leq x_{e,t}\\
     K_{e,t,e',t'} \leq x_{e',t'}\\
     K_{e,t,e',t'} \geq x_{e,t} + x_{e',t'} - 1\\
     \label{eq:linearize}
  \end{gathered}
\end{equation}

\subsection{Final Objective Function}
The final version of the objective function is obtained merging the equation \ref{eq:fir} and \ref{eq:sec} with the following result:
\begin{equation}
  \begin{gathered}
    \sum_{e=1}^{E-1}\sum_{e'=e+1}^{E}\sum_{t=1}^{t_{max}-5}\sum_{t'=t}^{t+5} (\frac{2^{5-i}}{|S|} \cdot n_{e,e'} \cdot K_{e,t,e',t'})
    \label{eq:final}
  \end{gathered}
\end{equation}

\end{document}
